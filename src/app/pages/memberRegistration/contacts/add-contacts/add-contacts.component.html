
    
    <div class="container-fluid">

        <!-- start page title -->
        <!-- start page title -->
        <div class="row">
            <div class="col-12">
                <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                    <h4 class="mb-sm-0 font-size-18">Contact Person</h4>

                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item">Contacts</li>
                            <li class="breadcrumb-item active"><a href="javascript: void(0);"(click)="Viewcontact()">View list</a></li>
                        </ol>
                    </div>

                </div>
            </div>
        </div>
        <!-- end page title -->
      <div style="background-color: white;padding: 20px;">
        <div style="background-color:white;padding:1%;padding-bottom:4%">
            <div *ngIf="isDisconnected==true" class="alert alert-light" style="height:1%">
                    <!--connection status starts here-->
                <label text-wrap><i class="fa fa-wifi" aria-hidden="true"></i>Please check your connection and try again <button class="btn btn-primary" (click)="Reload()"><i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;Refresh</button></label>
            </div>
            
            <div *ngIf="isValid==false">
            <div class="btn btn-danger"><i class="fa fa-exclamation-triangle"></i> Please fill required Fields</div> </div> 
            <input type="hidden" class="form-control" [(ngModel)]="MemberId" >
            <mat-tab-group [selectedIndex]="selectedIndex">
              <mat-tab label="General Information ">
                <div class="row" style="margin:2px">     
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Payroll Number</label>                     
                        <input class="form-control" [(ngModel)]="Payroll">                    
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3"> 
                    <label>Registration Date</label>                
                      <input type="date" displayFormat="DD MM YYYY" [(ngModel)]="RegistrationDate" class="form-control">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label> Member Status</label>                     
                        <select class="form-control" [(ngModel)]="MemberStatusId"
                        [class.is-invalid]="!isValid && MemberStatusId==0">
                          <option value="0">-Select</option>
                          <option *ngFor="let items of MemberStatusList" value="{{items.MemberStatusId}}">{{items.MemberStatusName}}</option>
                        </select>
                      </div>                 
                   </div> 
                  </div>
                  <div class="row" style="margin:2px">
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Full Name <strong style="color:red">*</strong></label>                     
                        <input class="form-control" [(ngModel)]="FullName" 
                        [class.is-invalid]="!isValid && FullName==''">                     
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3"> 
                    <label>Search Name</label>                    
                    <input class="form-control" [(ngModel)]="SearchName"
                    >                   
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3"> 
                    <label>Nationality</label>                    
                    <select class="form-control" [(ngModel)]="NationalityId" 
                    [class.is-invalid]="!isValid && NationalityId==0">
                      <option value="0">-Select</option>
                      <option *ngFor="let items of NationalityList" value="{{items.NationalityId}}">{{items.NationalityName}}</option>
                    </select>                   
                  </div>
                </div> 
                </div>
              <div class="row" style="margin:2px">                
               <div class="col-md-4">
                    <div class="mb-3"> 
                      <label> Member Status</label>                     
                        <select class="form-control" [(ngModel)]="MemberStatusId"
                        [class.is-invalid]="!isValid && MemberStatusId==0">
                          <option value="0">-Select</option>
                          <option *ngFor="let items of MemberStatusList" value="{{items.MemberStatusId}}">{{items.MemberStatusName}}</option>
                        </select>
                      </div>                 
                   </div>
 			<div class="col-md-4">
			<div class="mb-5"> 
                      <label></label>                     
                        <input type="checkbox" [(ngModel)]="Blocked"  > &nbsp;<label>Blocked</label>                     
                     </div>   
		</div>
              <div class="col-md-4">
                <div class="mb-5"> 
                  <label ></label>               
                    <input type="checkbox" [(ngModel)]="IsPerson"  > &nbsp;<label style="color:red">Is Person</label>
                  </div>               
               </div>
              </div>
              <br>     
              <div class="row" style="margin: 2px;">
                <div class="col-md-12">
                  <div class="mb-3">                 
                      <button type="button" (click)="nextStep()"  class="btn btn-outline-primary"><i class="fa fa-arrow-circle-right"></i> Next</button>
                    </div>                  
                </div>
              </div>
                 </mat-tab>
              <mat-tab label="Specific Information">
                <div *ngIf="IsPerson==true">
                  <div class="row" style="margin:2px">
                    <div class="col-md-4">
                      <div class="mb-3"> 
                        <label>ID Number</label>                        
                        <input class="form-control"  [(ngModel)]="IdNo"  >
                        </div>                    
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3"> 
                        <label>NSSF Number</label>                    
                        <input class="form-control"  [(ngModel)]="NSSFNo"  >
                        </div>                     
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3"> 
                        <label>Huduma Number</label>                        
                        <input class="form-control"  [(ngModel)]="HudumaNo" >
                        </div>                    
                    </div>                   
                  </div> 
                <div class="row" style="margin:2px">
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>NHIF Number</label>                        
                      <input class="form-control" [(ngModel)]="NHIFNo">                        
                    </div>
                  </div>                  
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Gender</label>                      
                      <select class="form-control" [(ngModel)]="Gender" >
                        <option value="0">-Select</option>
                        <option >Male</option>
                        <option >Female</option>
                        <option >Others</option>
                      </select>                     
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Date of Birth</label>                     
                        <input type="date"  [(ngModel)]="DOB" displayFormat="DD MM YYYY"  class="form-control">
                        </div>                  
                 </div>      
                </div>  
                <div class="row" style="margin:2px">
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Title</label>                   
                      <select class="form-control" [(ngModel)]="TitleId"  >
                        <option value="0">-Select</option>
                        <option *ngFor="let items of Titlelist" value="{{items.TitleId}}">{{items.TitleName}}</option>
                      </select>                      
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Level of Education</label>                 
                      <select class="form-control" [(ngModel)]="LevelofEducationId"  >
                        <option value="0">-Select</option>
                        <option *ngFor="let items of EducationList" value="{{items.LevelofEducationId}}">{{items.LevelofEducationName}}</option>
                      </select>                    
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Marital Status</label>                     
                      <select class="form-control" [(ngModel)]="MaritalStatusId"  >
                        <option value="0">-Select</option>
                        <option *ngFor="let item of MaritalStatusList" value="{{item.MaritalStatusId}}">{{item.MaritalStatusName}}</option>
                      </select>
                      </div>               
                  </div>
                </div>
                
              </div> 
              <div *ngIf="IsPerson==false">
                <div class="row" style="margin:2px" >
                  <div class="col-md-6">
                    <div class="mb-3"> 
                      <label>Certificate Number</label>                     
                      <input class="form-control" [(ngModel)]="CompanyCertificateNo"  >
                      </div>                   
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3"> 
                      <label>Company Registration Date</label>                      
                        <input type="date"   displayFormat="DD MM YYYY" [(ngModel)]="CompanyRegistrationDate"  class="form-control">
                      </div>                   
                  </div>
                </div>  
              </div> 
              <br>     
                <div class="row" style="margin: 2px;">
                  <div class="col-md-12">
                    <div class="mb-3">                       
                        <button type="button" (click)="previousStep()"  class="btn btn-outline-danger "><i class="fa fa-arrow-circle-left"></i>Back</button>
                       <button type="button" (click)="nextStep()" class="btn btn-outline-primary ml-1 "><i class="fa fa-arrow-circle-right"></i> Next</button>
                      </div>                   
                  </div>
                </div>
                 </mat-tab>
              <mat-tab label="Contact Information">
                <div class="row" style="margin:2px">
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Email Number</label>
                      <div class="input-group">
                      <input class="form-control" [(ngModel)]="Email"    >
                      </div>
                    </div>
                  </div> 
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Fax Number</label>                     
                      <input class="form-control" [(ngModel)]="FaxNumber"  >
                      </div>                    
                  </div> 
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Cell Phone <strong style="color:red">*</strong></label>                      
                      <input class="form-control" [(ngModel)]="PhoneNo"  
                      [class.is-invalid]="!isValid && PhoneNo==''">
                      </div>                   
                  </div>   
                </div>
                <div class="row" style="margin:2px">                  
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Telephone 1</label>                     
                      <input class="form-control" [(ngModel)]="Telephone1"  >
                      </div>                 
                  </div> 
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Telephone 2</label>            
                      <input class="form-control" [(ngModel)]="Telephone2"  >
                      </div>                  
                  </div> 
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Telephone 3</label>
                      <div class="input-group">
                      <input class="form-control" [(ngModel)]="Telephone3"  >
                      </div>                    
                  </div> 
                </div>
                </div>
                <div class="row" style="margin:2px">
                   <div class="col-md-6">
                    <div class="mb-3"> 
                      <label>Physical Location</label>                      
                        <textarea rows="3" class="form-control" name="comment" [(ngModel)]="PhysicalLocation">
                          </textarea>
                      </div>                     
                   </div>
                   <div class="col-md-6">
                    <div class="mb-3"> 
                      <label>Postal Address</label>                 
                      <input class="form-control" [(ngModel)]="PostalAddress" >
                      </div>                  
                </div>
              </div>
              <br>
              <div class="row" style="margin: 2px;">
                <div class="col-md-12">
                  <div class="mb-3">                    
                      <button type="button" (click)="previousStep()"  class="btn btn-outline-danger"><i class="fa fa-arrow-circle-left"></i>Back</button> &nbsp;
                      <button type="button" (click)="nextStep()" class="btn btn-outline-primary ml-1 "><i class="fa fa-arrow-circle-right"></i> Next</button>   
                  </div>                  
                </div>
              </div>               
              </mat-tab>
              <mat-tab label="Financial Information">
                <div class="row"  style="margin:2px">
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Bank</label>                    
                      <select class="form-control" [(ngModel)]="BankId" (ngModelChange)="loadBranches(BankId)"  >
                        <option value="0">-Select</option>
                        <option *ngFor="let items of BankList" value="{{items.BankId}}">{{items.BankName}}</option>
                      </select>
                      </div>                   
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Branches</label>                     
                      <select class="form-control" [(ngModel)]="BankBranchId"   >
                        <option value="0">-Select</option>
                        <option *ngFor="let items of BranchList" value="{{items.BranchId}}">{{items.BranchName}}</option>
                      </select>
                      </div>                   
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Account Number</label>                   
                      <input class="form-control" [(ngModel)]="BankAccountNo"  >
                      </div>                  
                  </div>
                </div>
                <div class="row" style="margin:2px">
                <div class="col-md-4">
                  <div class="mb-3"> 
                    <label> KRA Pin</label>               
                    <input class="form-control" [(ngModel)]="KRAPin" >
                    </div>               
                </div>
                  <div class="col-md-4">
                    <div class="mb-3"> 
                    <label>Currencies <strong style="color:red">*</strong></label>
                    <div class="input-group">
                    <select class="form-control" [(ngModel)]="CurrencyId" >
                      <option value="0">Kenya Shillings</option>
                      <option *ngFor="let items of CurrencyList" value="{{items.CurrencyId}}">{{items.CurrencyName}}</option>
                    </select>
                    </div>
                  </div>
                </div>
	    	        <div class="col-md-4">
                    <div class="mb-3"> 
                      <label>Remark</label>                  
                        <textarea rows="3" class="form-control" [(ngModel)]="Remark" placeholder="Enter your Remark/Comment">
                          </textarea>
                      </div>                
                   </div>
              </div>
              
              <br>
              <div class="row" style="margin: 2px;" hidden>
                <div class="col-md-12">
                  <div class="mb-3">                    
                      <button type="button" (click)="previousStep()"  class="btn btn-outline-danger "><i class="fa fa-arrow-circle-left"></i>Back</button> &nbsp;
                      <button type="button" (click)="nextStep()" class="btn btn-outline-primary ml-1 "><i class="fa fa-arrow-circle-right"></i> Next</button>  
                  </div>                  
                </div>
              </div>
               
            
              <div hidden>
            
                <div class="row" style="margin:2px">
                  
                   
                <div class="col-md-6" hidden>
                  <div class="col-sm-12">
                    <label>Registration Code</label>
                    <div class="input-group">
                      <input class="form-control"[(ngModel)]="RegistrationCode" readonly  >
                    </div>
                  </div>
                </div>
                </div>
                <div class="row" style="margin:2px">
                  <div class="col-md-6" hidden>
                    <div class="col-sm-12">
                      <label>Security Question</label>
                      <div class="input-group">
                        <select class="form-control" [(ngModel)]="SecurityQuestion" >
                          <option value="0">-Select</option>
                          <option *ngFor="let items of securityList" value="{{items.GenderId}}">{{items.GenderName}}</option>
                        </select>
                      </div>
                    </div>
                </div>
                <div class="col-md-6" hidden>
                  <div class="col-sm-12">
                    <label>Security Answer</label>
                    <div class="input-group">
                      <input class="form-control" [(ngModel)]="SecurityAnswer" > 
                    </div>
                  </div>
              </div>
              
                </div>
                <div class="row" style="margin:2px">                  
                                  
                   <div class="col-md-2">
                    <div class="col-sm-12">
                      <label></label>
                      <div class="input-group">
                        <input type="hidden" [(ngModel)]="IsRegister" style="width:35px;height:35px"  type="hidden"> &nbsp;<label></label>
                      </div>
                     </div>
                   </div>
                   <div class="col-md-3">
                    <div class="col-sm-12">
                      <label></label>
                      <div class="input-group">
                        <input type="hidden" [(ngModel)]="IsDormancy" style="width:35px;height:35px"  > &nbsp;<label></label>
                      </div>
                     </div>
                   </div>
                </div>     
              </div>              
                <br>
                <div class="row" style="margin: 2px;">
                  <div class="col-md-4">
                    <div class="mb-3">
                        <div class="input-group">
                          <button type="button" (click)="previousStep()"  class="btn btn-outline-danger  ml-1"><i class="fa fa-arrow-circle-left"></i>Back</button>
                          <button type="submit" *ngIf="!loading" (click)="onsubmit(Payroll,MemberId,FullName,SearchName,IdNo,IsPerson,NHIFNo,KRAPin,NSSFNo,HudumaNo,Email,DOB,TitleId,Gender,MaritalStatusId,Telephone1, Telephone2, Telephone3, PhoneNo, FaxNumber, PhysicalLocation, PostalAddress,MemberStatusId, Blocked, LevelofEducationId, IsRegister, IsDormancy, Remark, SecurityQuestion, RegistrationCode, NationalityId,CompanyRegistrationDate, RegistrationDate, CompanyCertificateNo, BankId, BankBranchId, BankAccountNo, CurrencyId, SecurityAnswer)" class="btn btn-primary  btn-block ml-1"><i class="fa fa-database"></i>Register<i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button>
                        </div>
                        <div id="sa-success" *ngIf="loading" (click)="successmsg()"></div>   
                      </div>
                    </div>                 
                </div>           
          </mat-tab>
            </mat-tab-group>
        </div>
    </div> 
    </div>
    
    
    
    


